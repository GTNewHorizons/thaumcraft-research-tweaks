apply plugin: 'org.jetbrains.kotlin.jvm'
apply plugin: 'com.google.devtools.ksp'

kotlin {
    sourceSets {
        main.kotlin.srcDirs += 'build/generated/ksp/main/kotlin'
        test.kotlin.srcDirs += 'build/generated/ksp/test/kotlin'
    }
}

idea {
    module {
        sourceDirs = sourceDirs + file('build/generated/ksp/main/kotlin')
        testSourceDirs = testSourceDirs + file('build/generated/ksp/test/kotlin')
        generatedSourceDirs = generatedSourceDirs + file('build/generated/ksp/main/kotlin') + file('build/generated/ksp/test/kotlin')
    }
}

//configurations {
//    kspPatchedMcKotlin {
//        attributes {
//            attribute(com.gtnewhorizons.retrofuturagradle.ObfuscationAttribute.OBFUSCATION_ATTRIBUTE, com.gtnewhorizons.retrofuturagradle.ObfuscationAttribute.getNoMinecraft(objects))
//        }
//    }
//}
